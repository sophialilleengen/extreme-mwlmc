# LMC models

On Tursa, we have run the full-scale LMC simulation: 250M halo particles and 5M disc particles. All particles have masses of 6e-10 (scaled to physical units, this is 601.2 solar masses per particle.

## Benchmarks

The 250M halo and 5M disc timings, on 32 GPUs, are:
```
----------------------------------------------------------------------
--- Timer info [T=0.0016] --------------------------------------------
----------------------------------------------------------------------
Drift               : 0.0566945          [  0.37 %]
Velocity            : 0.116478           [  0.76 %]
Force               : 10.0243            [ 65.36 %]
Coefs               : 0.926833           [  6.04 %]
Output              : 1.49778            [  9.77 %]
Levels              : 0.105136           [  0.69 %]
Report              : 3.772e-06          [  0.00 %]
Balance             : 2.374e-06          [  0.00 %]
Adjust              : 2.61071            [ 17.02 %]
Cuda copy           : 0.245618           [  1.60 %]
Orient              : 0.623838           [  4.07 %]
Total               : 15.338             [100.00 %]
----------------------------------------------------------------------
```

Multistep diagnostics:
```
------------------------------------------------------------
--- Component <lmchalo, sphereSL>, T=0.0016-----------------
------------------------------------------------------------
L  Number    dN/dL     N(<=L)    
------------------------------------------------------------
0  219509929 0.878     0.878     
1  20837902  0.083     0.961     
2  8253810   0.033     0.994     
3  1398359   0.006     1.000     

T  250000000 

------------------------------------------------------------
--- Component <lmcdisc, cylinder>, T=0.0016-----------------
------------------------------------------------------------
L  Number    dN/dL     N(<=L)    
------------------------------------------------------------
0  4445494   0.889     0.889     
1  492671    0.099     0.988     
2  58191     0.012     0.999     
3  3644      0.001     1.000     

T  5000000   
```

`nvidia-smi` diagnostics:
```
|===============================+======================+======================|
|   0  NVIDIA A100-SXM...  On   | 00000000:03:00.0 Off |                    0 |
| N/A   30C    P0   124W / 500W |   6144MiB / 81251MiB |     59%      Default |
|                               |                      |             Disabled |
+-------------------------------+----------------------+----------------------+
```

